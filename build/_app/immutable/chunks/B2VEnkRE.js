var J=Object.defineProperty;var Y=s=>{throw TypeError(s)};var ee=(s,e,r)=>e in s?J(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>ee(s,typeof e!="symbol"?e+"":e,r),$=(s,e,r)=>e.has(s)||Y("Cannot "+r);var a=(s,e,r)=>($(s,e,"read from private field"),r?r.call(s):e.get(s)),_=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),j=(s,e,r,t)=>($(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{O as q,P as se,Q as D,R as re,v as C,S as K,T as te,U as ie,A as I,y as ne,q as ae,B as fe,E as ue,V as ce,W as oe,X as le,F as de,D as k,Y as he,Z as pe,b as G,_ as _e,$ as M,x as ve,a0 as be,o as Z,a1 as ge,a2 as Se,a3 as ye,g as R,h as H,a4 as x,a5 as Pe,a6 as we,m as Ee,w as Oe,a7 as Ae,L as Re,a8 as Te,a9 as me,aa as De,ab as P,ac as Q,ad as Ie,ae as xe,a as Le,af as Me}from"./RXAsip-j.js";var d,h,l,v,w,E,T;class Ne{constructor(e,r=!0){F(this,"anchor");_(this,d,new Map);_(this,h,new Map);_(this,l,new Map);_(this,v,new Set);_(this,w,!0);_(this,E,()=>{var e=q;if(a(this,d).has(e)){var r=a(this,d).get(e),t=a(this,h).get(r);if(t)se(t),a(this,v).delete(r);else{var i=a(this,l).get(r);i&&(a(this,h).set(r,i.effect),a(this,l).delete(r),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),t=i.effect)}for(const[n,u]of a(this,d)){if(a(this,d).delete(n),n===e)break;const f=a(this,l).get(u);f&&(D(f.effect),a(this,l).delete(u))}for(const[n,u]of a(this,h)){if(n===r||a(this,v).has(n))continue;const f=()=>{if(Array.from(a(this,d).values()).includes(n)){var p=document.createDocumentFragment();te(u,p),p.append(C()),a(this,l).set(n,{effect:u,fragment:p})}else D(u);a(this,v).delete(n),a(this,h).delete(n)};a(this,w)||!t?(a(this,v).add(n),re(u,f,!1)):f()}}});_(this,T,e=>{a(this,d).delete(e);const r=Array.from(a(this,d).values());for(const[t,i]of a(this,l))r.includes(t)||(D(i.effect),a(this,l).delete(t))});this.anchor=e,j(this,w,r)}ensure(e,r){var t=q,i=ie();if(r&&!a(this,h).has(e)&&!a(this,l).has(e))if(i){var n=document.createDocumentFragment(),u=C();n.append(u),a(this,l).set(e,{effect:K(()=>r(u)),fragment:n})}else a(this,h).set(e,K(()=>r(this.anchor)));if(a(this,d).set(t,e),i){for(const[f,c]of a(this,h))f===e?t.skipped_effects.delete(c):t.skipped_effects.add(c);for(const[f,c]of a(this,l))f===e?t.skipped_effects.delete(c.effect):t.skipped_effects.add(c.effect);t.oncommit(a(this,E)),t.ondiscard(a(this,T))}else I&&(this.anchor=ne),a(this,E).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,w=new WeakMap,E=new WeakMap,T=new WeakMap;function je(s,e,r=!1){I&&fe();var t=new Ne(s),i=r?ue:0;function n(u,f){if(I){const p=ce(s)===oe;if(u===p){var c=le();de(c),t.anchor=c,k(!1),t.ensure(u,f),k(!0);return}}t.ensure(u,f)}ae(()=>{var u=!1;e((f,c=!0)=>{u=!0,n(c,f)}),u||n(!1,null)},i)}function z(s,e){return s===e||(s==null?void 0:s[M])===e}function qe(s={},e,r,t){return he(()=>{var i,n;return pe(()=>{i=n,n=[],G(()=>{s!==r(...n)&&(e(s,...n),i&&z(r(...i),s)&&e(null,...i))})}),()=>{_e(()=>{n&&z(r(...n),s)&&e(null,...n)})}}),s}let A=!1,L=Symbol();function Ce(s,e,r){const t=r[e]??(r[e]={store:null,source:ge(void 0),unsubscribe:Z});if(t.store!==s&&!(L in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=Z;else{var i=!0;t.unsubscribe=Se(s,n=>{i?t.source.v=n:H(t.source,n)}),i=!1}return s&&L in r?ye(s):R(t.source)}function Ke(){const s={};function e(){ve(()=>{for(var r in s)s[r].unsubscribe();be(s,L,{enumerable:!1,value:!0})})}return[s,e]}function Be(s){var e=A;try{return A=!1,[s(),A]}finally{A=e}}const Ue={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function ke(s,e,r){return new Proxy({props:s,exclude:e},Ue)}const Ye={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(P(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let i=s.props[t];P(i)&&(i=i());const n=x(i,e);if(n&&n.set)return n.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(P(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const i=x(t,e);return i&&!i.configurable&&(i.configurable=!0),i}}},has(s,e){if(e===M||e===Q)return!1;for(let r of s.props)if(P(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(P(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ze(...s){return new Proxy({props:s},Ye)}function ze(s,e,r,t){var B;var i=!Le||(r&Me)!==0,n=(r&me)!==0,u=(r&Ie)!==0,f=t,c=!0,p=()=>(c&&(c=!1,f=u?G(t):t),f),g;if(n){var V=M in s||Q in s;g=((B=x(s,e))==null?void 0:B.set)??(V&&e in s?o=>s[e]=o:void 0)}var S,N=!1;n?[S,N]=Be(()=>s[e]):S=s[e],S===void 0&&t!==void 0&&(S=p(),g&&(i&&Pe(),g(S)));var b;if(i?b=()=>{var o=s[e];return o===void 0?p():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},i&&!(r&we))return b;if(g){var W=s.$$legacy;return function(o,O){return arguments.length>0?((!i||!O||W||N)&&g(O?b():o),o):b()}}var m=!1,y=(r&De?Re:Te)(()=>(m=!1,b()));n&&R(y);var X=Oe;return function(o,O){if(arguments.length>0){const U=O?R(y):i&&n?Ee(o):o;return H(y,U),m=!0,f!==void 0&&(f=U),o}return xe&&m||X.f&Ae?y.v:R(y)}}export{Ne as B,Ce as a,qe as b,Ze as c,je as i,ze as p,ke as r,Ke as s};
